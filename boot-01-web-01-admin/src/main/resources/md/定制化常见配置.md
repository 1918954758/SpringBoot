## 定制化常见配置

- 修改配置文件
- xxxCustomizer
- 编写自定义的配置类 xxxConfiguration + @Bean 替换、增加容器中默认组件，如视图解析器
- web应用 实现WebMvcConfigurer即可定制化web功能  ，在加上 @Bean 给容器中添加Bean组件

```java
@Configuration(proxyBeanMethods = false)
@Slf4j
public class WebConfig /*implements WebMvcConfigurer*/ {

    @Bean
    public HiddenHttpMethodFilter hiddenHttpMethodFilter() {
        HiddenHttpMethodFilter hiddenHttpMethodFilter = new HiddenHttpMethodFilter();
        hiddenHttpMethodFilter.setMethodParam("_m");
        return hiddenHttpMethodFilter;
    }
    //...
}
```

- @EnableWebMvc + WebMvcConfigurer  ----- @Bean 可以完全接管SpringMVC，所有规则必须自己重新配置；实现定制和扩展功能
    - 1. WebMvcAutoConfiguration 默认的SpringMVC的自动配置功能类。静态资源、Welcome Page...
    - 2. 一旦使用 @EnableWebMvc 、会 @Import(DelegatingWebMvcConfiguration.class)
    - 3. DelegatingWebMvcConfiguration的作用，只保证SpringMVC最基本的功能使用
        - 把左右系统中的WebMvcConfigurer拿过来，所有功能的定制都是所有WebMvcConfigurer合起来一起生效
        - 自动配置了一些非常底层的组件，RequestMappingHandlerMapping 等这些组件依赖的组件都是从容器中获取
        - public class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport {
    - 4. WebMvcAutoConfiguration 里面的配置，要使其可以生效，必须@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)
    - 5. 可见，@EnableWebMvc 注解 导致了 WebMVCAutoConfiguration不生效
    
## 原理套路分析

> 场景starter - xxxxAutoConfiguration - 导入xxx组件 - 绑定xxxProperties -- 绑定配置文件乡