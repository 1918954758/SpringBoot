桥接模式网络配置：

1、配置ip地址等信息在/etc/sysconfig/network-scripts/ifcfg-ens33文件里做如下配置：
命令：vi   /etc/sysconfig/network-scripts/ifcfg-ens33
修改如下：
	TYPE="Ethernet"   # 网络类型为以太网
	BOOTPROTO="static"  # 手动分配ip
	NAME="ens33"  # 网卡设备名，设备名一定要跟文件名一致
	DEVICE="ens33"  # 网卡设备名，设备名一定要跟文件名一致
	ONBOOT="yes"  # 该网卡是否随网络服务启动
	IPADDR="192.168.220.101"  # 该网卡ip地址就是你要配置的固定IP，如果你要用xshell等工具连接，220这个网段最好和你自己的电脑网段一致，否则有可能用xshell连接失败
	GATEWAY="192.168.220.2"   # 网关
	NETMASK="255.255.255.0"   # 子网掩码
	DNS1="8.8.8.8"    # DNS，8.8.8.8为Google提供的免费DNS服务器的IP地址
2、配置网络工作	在/etc/sysconfig/network文件里增加如下配置
	命令：
	vi /etc/sysconfig/network
	修改：
	NETWORKING=yes # 网络是否工作，此处一定不能为no
3、配置公共DNS服务(可选)	在/etc/resolv.conf文件里增加如下配置
	nameserver 8.8.8.8
4、关闭防火墙
	systemctl stop firewalld # 临时关闭防火墙
	systemctl disable firewalld # 禁止开机启动
5、重启网络服务
	service network restart

关于虚拟机的克隆：
1.先查看虚拟机的网关
	编辑->虚拟网络编辑器->VMnet8(NAT模式 NAT模式)->NAT设置/DHCP设置->网关ip(G)192.xxx.xxx.xx(记住这个网关地址)
2.将要克隆的虚拟机关机，有点点击要克隆的虚拟机：
	邮件点击虚拟机，选择“管理->克隆”
克隆需要给一个地址，建一个空文件夹即可
克隆完成，此时这个克隆出来的虚拟机和原虚拟机哥哥配置都是一样的，我们记下来要对网络，主机名等进行配置。
1) 修改配置文件/etc/sysconfig/network-scripts/ifcfg-ens33中的IPADDR
	IPADDR="192.168.220.102"
2) 修改主机名：
	hostnamectl set-hostname   xxxx(你要的主机名字)
3) 输入命令 "vi /etc/hosts"后，在配置文件中加入
	127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
	::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
	192.168.220.103（你锁修改的主机IP）   xxxxxxxx(你要的主机名字)
4) 重启：reboot




修改centos7系统语言
查看系当前语言包
locale
查看系统拥有语言包

locale -a
（zh_CN.UTF-8是简体中文，如果没有zh_CN.UTF-8,就安装语言包，如果存在可以直接设置)

安装简体中文语言包
yum install kde-l10n-Chinese
设置为中文
临时修改，重启服务器之后就会还原之前的设置
LANG="zh_CN.UTF-8"    #修改为中文
LANG="en_US.UTF-8"    #修改为英文
永久修改就要把配置写入文件里面
方法（一）

vi /etc/locale.conf
##加下面内容到第一行，设置中文
LANG=zh_CN.UTF8
方法（二）

localectl  set-locale LANG=zh_CN.UTF8
其他
修改时区为亚洲上海

ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
查看ip时bash: ifconfig: command not found 解决办法

yum install net-tools      ##一般是没有安装这个

[root@zichen etc]# ipconfig
bash: ipconfig: command not found...
[root@zichen etc]# whereis ipconfig
ipconfig:[root@zichen etc]# echo $PATH
/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:/home/zichen/.local/bin:/home/zichen/bin
[root@zichen etc]# export PATH=$PATH:/sbin
[root@zichen etc]# 


解决yum问题：
解决办法如下

fastestmirror是yum的一个加速插件，这里是插件提示信息是插件不能用了。

不能用就先别用呗，禁用掉，先yum了再说。

1.修改插件的配置文件

#vi /etc/yum/pluginconf.d/fastestmirror.conf
[main]
enabled=1
verbose=0
always_print_best_host = true
socket_timeout=3
#  Relative paths are relative to the cachedir (and so works for users as well
# as root).
hostfilepath=timedhosts.txt
maxhostfileage=10
maxthreads=15
#exclude=.gov, facebook
#include_only=.nl,.de,.uk,.ie
enabled = 1//由1改为0，禁用该插件
2.修改yum的配置文件
# vi /etc/yum.conf
[main]
cachedir=/var/cache/yum/$basearch/$releasever
keepcache=0
debuglevel=2
logfile=/var/log/yum.log
exactarch=1
obsoletes=1
gpgcheck=1
plugins=1
installonly_limit=5
bugtracker_url=http://bugs.centos.org/set_project.php?project_id=23&ref=http://bugs.centos.org/bug_report_page.php?category=yum
distroverpkg=centos-release
plugins=1//改为0，不使用插件


linux分辨率：
xrandr



磁盘格式转换命令：convert 磁盘盘符 /fs:ntfs
FAT32-->NTFS




CentOS7.x参数配置：
| 所需目录/设备 | 磁盘容量 | 文件系统 | 分区格式 | 
---------------------------------------------
|  BIOS boot  |   2MB   | 系统自订 |  主分区  | 
|    /boot    |   1GB   |   xfs   |  主分区  | 
|      /      |  10 GB  |   xfs   | LVM 方式 | 
|    /home    |   5GB   |   xfs   | LVM 方式 | 
|    swap     |   1GB   |   swap  | LVM 方式 |


强制使用
1. GPT 分区表
	inst.gpt 
2. 语言选择： 简体中文
3. 界面选择： SUI
4. 分区：
	BIOS Boot:2MB
	/home:5GB
	/boot: 1GB
	/: 10G
	swap: 1GB
	选择根目录“/” ,点击右边的Modify--> "固定""30G"
	点击完成按钮，弹出对话框，查看是否有修改为 GPT分区格式
4. 核心管理与网络设置
	1）点击"KDUMP" -> 启用---- 核心开发者除错之用。
	2）点选“系统”下的“网络&主机名称”的设置
		->开启->设定->
				->一般（或者叫常规）：勾选前两个，参数为0
				->IPv4设定：手动 ->添加（地址：192.168.1.100    子网掩码：255.255.255.0）
				->储存
	3）设置主机名：study.centos.zichen
5. root用户密码设置，创建用户
6. 等安装完成，重新开机
7. 授权
注意1：上面所选择的项目，包括root的密码等等，统统都会被记录到/root/anaconda-ks.cfg这个文件内。
 ks---kickstart:定义了Linux安装过程中的配置文件
8. 内存测试，开机界面->Troubleshooting->Run a memory test---直到按下"ESC"为止。称“烧机”。
注意2：由于笔记本电脑加入了非常多的省电机制或者是其他硬件的管理机制，包括显卡常常是整合型的， 因此在笔记本电脑上面的硬件常常与一般桌面电脑不怎么相同。所以当你使用适合于一般桌面电脑的DVD来安装Linux时， 可能常常会出现一些问题，导致无法顺利的安装Linux到你的笔记本电脑中啊！那怎办？
	其实很简单，只要在安装的时候，告诉安装程序的linux核心不要载入一些特殊功能即可。 最常使用的方法就是，在使用DVD开机时，选择“”然后按下 [tab] 按键后，加入下面这些选项：
	nofb apm=off acpi=off pci=noacpi
	apm(Advanced Power Management)是在其的电源管理模块
	acpi(Advanced Configuration and Power Interface)是近期的电源管理模块
	这两者都是硬件本身就有支持的，但是笔记本电脑可能不是使用这些机制， 因此，当安装时启动这些机制将会造成一些错误，导致无法顺利安装。
	nofb则是取消显卡上面的缓冲内存侦测。
	因为笔记本电脑的显卡常常是整合型的， Linux安装程序本身可能就不是很能够侦测到该显卡模块。此时加入nofb将可能使得你的安装过程顺利
一些。
	对于这些在开机的时候所加入的参数，我们称为“核心参数”，核心参数可以上网查看。

双系统安装
1.Linux分区界面，先不要分区，Ctrl+Alt+F2 进入安装过程的shell环境，执行以下指令(不可用)：
	parted /dev/vda mklabel msdos # 创建 MBR 分区
	parted /dev/vda mkpart primary 1M 2G # 创建 /boot
	parted /dev/vda mkpart primary 2G 52G # 创建 /
	parted /dev/vda mkpart primary 52G 152G # 创建 C
	parted /dev/vda mkpart extended 152G 100%# 创建延伸分区
	parted /dev/vda mkpart logical 152G 100% # 创建逻辑分区
	parted /dev/vda print # 显示分区结果
本机使用：
	[anaconda root@localhost /]# parted /dev/sda
	(parted)parted mklabel msdos # 创建 MBR 分区
	Warning:The existing disk label on /dev/sda will be destroyed and all data on this disk will be lost.Do you want to continue?
	Yes/No?Yes
	(parted)mkpart primary 1M 2G # 创建 /boot
	(parted)mkpart primary 2G 52G # 创建 /
	(parted)mkpart primary 52G 152G # 创建 C
	(parted)mkpart extended 152G 100%# 创建延伸分区
	(parted)mkpart logical 152G 100% # 创建逻辑分区
	(parted)rm 1/2/3/4/5 # 删除分区
	(parted)print # 查看分区信息
分区完成，print信息：
(parted)print
Model:Virtio Block Device(Virtblk)
Disk /dev/sda:215GB
Sector size (logical/physical):512B/512B
Partition Table:msdos
Disk Flags:

Number	Start	End		Size	Type	File system		Flags
1		1049kB	2000MB	1999MB	primary					
2		2000MB	52.0GB	50.0GB	primary					
3		52.0GB	152GB	100GB	primary					
4		152GB	215GB	62.7GB	extended				1ba
5		152GB	215GB	62.7GB	logical					
(parted)_
2. 再次按下Ctrl+Alt+F6 回到原本安装流程中。
3. 然后一步一步实做到分区那边， 然后依据相关的设备文件名来进行“重新格式化”并填入正确的挂载点，
	新CentOS7安装：
	/boot 1906M  	xfs		sda1
	/data 58.44G	vfat	sda5
	/	  46.57G	xfs		sda2
	未知：
	Unknown   93.13G		sda3
4. 安装完毕
5. 安装Windows
 5.1 添加硬盘，设置U盘启动
 5.2 安装Windows
 5.3 安装完毕
 
6. 救援 MBR 内的开机管理程序与设置多重开机菜单
	（为了应付分区工作，所以我们是先安装 Linux 再安装 Windows 的。只是，如此一来，整颗硬盘的 MBR 部份就会被 windows 的开机管理程序占用了！ 因此，安装好了 Windows 的现在，我们得要开始来救援 MBR，同时编辑一下开机菜单才行！）
 6.1  救援回 Linux 的开机管理程序：
 6.2  进入DIOS设置光盘优先启动
 6.3  进入CentOS7安装界面->Troubleshooting->Rescue a CentOS system
 6.4  等待几秒
 6.5  选择 3   Continue
 6.6  执行命令 chroot /mnt/sysimage
 6.7  执行命令 grub2-mkconfig -o /boot/grub2/grub.cfg 选择构建grub菜单配置文件（这一步可以不执行）
 6.8  执行“exit”命令退出bash环境
 6.9  再执行“reboot”命令重启即可。
 6.10 进入CentOS7 - root执行以下命令
 		[root@zichen ~]# vim /etc/grub.d/40_custom
 		#!/bin/shareexec tail -n +# $0
 		# This file provides an easy way to add custom menu entries. Simply type the
		# menu entries you want to add after this comment. Be careful not to change
		# the 'exec tail' line above.
		menuentry "Windows 7"{
			set root='(hd0,3)'
			chainloader +1
		}
		[root@zichen ~]# vim /etc/default/grub2
		GRUB_TIMEOUT=30 #将5秒改成30秒，长一些
		...
		[root@zichen ~]# grub2-mkconfig -o /boot/grub2/grub.cfg
7. 接下来，就可以看到以下三个选项
	CentOS Linux 7 (Core),whth Linux 3.10.0-229.e17.×86_64
	CentOS Linux 7 (Core),with Linux 0-rescue-7547c69b178e4e6884057662eb1f->
	Windows 7
8. Linux+Windows双系统安装成功。
9. 后续维护的注意事项
	多重开机设置完毕后请特别注意：
	1） Windows的环境中最好将Linux的根目录与swap取消挂载，否则未来你打开文件资源管理器时， 该软件会要求你“格式化！”如果一个不留神，你的Linux系统就毁了。
	2） 你的Linux不可以随便的删除！ 因为grub会去读取Linux根目录下的/boot/目录内容，如果你将Linux移除了，你的Windows也就无法开机了！ 因为整个开机菜单都会不见喔！

安装双系统重点：
1） 不论你要安装什么样的Linux操作系统角色，都应该要事先规划例如分区、开机管理程序等；
2） 建议练习机安装时的磁盘分区能有/, /boot, /home, swap四个分区；
3） 安装CentOS 7.x的模式至少有两种，分别是图形接口与命令行；
4） CentOS 7 会主动依据你的磁盘容量判断要用 MBR 或 GPT 分区方式，你也可以强迫使用 GPT；
5） 若安装笔记本电脑时失败，可尝试在开机时加入“linux nofb apm=off acpi=off”来关闭省电功能；
6） 安装过程进入分区后，请以“自订的分区模式”来处理自己规划的分区方式；
7） 在安装的过程中，可以创建逻辑卷轴管理员 （LVM） ；
8） 一般要求swap应该要是1.5~2倍的实体内存量，但即使没有swap依旧能够安装与运行Linux操作系统；
9） CentOS 7默认使用 xfs 作为文件系统
10）没有连上Internet时，可尝试关闭防火墙，但SELinux最好选择“强制”状态；
11）设置时不要选择启动kdump，因为那是给核心开发者查阅死机数据的；
12）可加入时间服务器来同步化时间，台湾可选择tock.stdtime.gov.tw这一部；
13）尽量使用一般用户来操作Linux，有必要再转身份成为root即可。
14）即使是练习机，在创建 root 密码时，建议依旧能够保持良好的密码规则，不要随便设置！

习题：
1. Linux的目录配置以“树状目录”来配置，至于磁盘分区（partition） 则需要与树状目录相配合！ 请问，在默认的情况下，在安装的时候系统会要求你一定要分区出来的两个Partition为何？就是根目录“/”与内存交换空间“Swap”
2. 默认使用 MBR 分区方式的情况下，在第二颗 SATA 磁盘中，分区“六个有用”的分区 （具有 filesystem 的） ，此外，已知有两个 primary 的分区类型！请问六个分区的文件名？/dev/sdb1（primary） /dev/sdb2（primary） /dev/sdb3（extended）/dev/sdb5（logical 下面皆为 logical） /dev/sdb6 /dev/sdb7 /dev/sdb8 请注意，5-8 这四个 logical 容量相加的总和为 /dev/sdb3！
3. 软件磁盘阵列的设备文件名为何？RAID : /dev/md[0-127];
4. 如果我的磁盘分区时使用 MBR 方式，且设置了四个 Primary 分区，但是磁盘还有空间，请问我还能不能使用这些空间？不行！因为最多只有四个 Primary 的磁盘分区，没有多的可以进行分区了！且由于没有 Extended ，所以自然不能再使用 Logical 分区

*****************************************************************************
CentOS7终端中画面设置：
	从“应用程序”的“喜好”当中打开“终端机”，在终端机中输入“gsettings set org.gnome.desktop.interface enable-animations false”， 这个动作会将 GNOME 默认的画面切换的动画功能关闭，在虚拟机的环境下，有助于画面切换的速度喔！


Linux中显示当前语系，并修改：
[zichen@study etc]$ locale
LANG=zh_CN.UTF-8
LC_CTYPE="zh_CN.UTF-8"
LC_NUMERIC=zh_CN.UTF-8
LC_TIME=zh_CN.UTF-8
LC_COLLATE="zh_CN.UTF-8"
LC_MONETARY=zh_CN.UTF-8
LC_MESSAGES="zh_CN.UTF-8"
LC_PAPER=zh_CN.UTF-8
LC_NAME="zh_CN.UTF-8"
LC_ADDRESS="zh_CN.UTF-8"
LC_TELEPHONE="zh_CN.UTF-8"
LC_MEASUREMENT=zh_CN.UTF-8
LC_IDENTIFICATION="zh_CN.UTF-8"
LC_ALL=
[zichen@study etc]$ LANG=en_US.UTF-8		#修改成英文
[zichen@study etc]$ export LC_ALL=en_US.UTF-8	#导入修改，使其生效
[zichen@study etc]$ date
Sun Nov 24 19:41:21 CST 2019
[zichen@study etc]$ LANG=zh_CN.UTF-8		修改成中文
[zichen@study etc]$ export LC_ALL=zh_CN.UTF-8	#导入修改，使其生效
[zichen@study etc]$ date
2019年 11月 24日 星期日 19:42:09 CST
[zichen@study etc]$ 

网络设置：
进入：
	vi /etc/sysconfig/network-scripts/ifcfg-ens33 
添加：
	BOOTPROTO="static"  #修改 none->static
	ONBOOT=yes
	NETMASK=192.168.150.2
	GATEWAY=255.255.255.0
	DNS1=192.168.150.2
注意！ 
一开始我以宿主机A的ip地址作为网关，结果centos7死活连接不了外网！折腾了好久！因为irtualbox中centos7是以桥接模式创建的，那么centos7也就相当于一台电脑了，它与宿主机A处于一个平行的关系，并不是从属的关系，它也会独占一个内网ip。它的网关应该设置为宿主机A 的网关。DNS最好与宿主机A的DNS一样，当然也可以设置为114.114.114.114。
配置network及主机名:
	vi /etc/sysconfig/network
	# Created by anaconda
	NETWORKING=yes
	HOSTNAME=weisg001
	GATEWAY=192.168.0.1     #其实这里的设置不起作用，因为在ifcfg-enp0s3中已经设置了网关，如果在ifcfg-enp0s3中没有设置网关，则会启用这里设置的网关
	
vi /etc/hostname
	study.centos.zichen
检查gateway是否设置成功：
[weisg@weisg001 ~]$ route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.0.1     0.0.0.0         UG    0      0        0 enp0s3
169.254.0.0     0.0.0.0         255.255.0.0     U     1002   0        0 enp0s3
172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0
192.168.0.0     0.0.0.0         255.255.255.0   U     0      0        0 enp0s3
192.168.122.0   0.0.0.0         255.255.255.0   U     0      0        0 virbr0
[weisg@weisg001 ~]$

配置DNS服务器

[weisg@weisg001 ~]$ ping 14.215.177.37
PING 14.215.177.37 (14.215.177.37) 56(84) bytes of data.
64 bytes from 14.215.177.37: icmp_seq=1 ttl=56 time=9.19 ms
64 bytes from 14.215.177.37: icmp_seq=2 ttl=56 time=11.2 ms
64 bytes from 14.215.177.37: icmp_seq=3 ttl=56 time=9.47 ms
64 bytes from 14.215.177.37: icmp_seq=4 ttl=56 time=10.8 ms
64 bytes from 14.215.177.37: icmp_seq=5 ttl=56 time=8.66 ms
^C
--- 14.215.177.37 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4008ms
rtt min/avg/max/mdev = 8.660/9.885/11.257/0.995 ms
[weisg@weisg001 ~]$ ping www.baidu.com
ping: www.baidu.com: 未知的名称或服务

这时候我们发现，可以ping通ip地址，但是无法ping通 www.baidu.com，那是因为配置了DNS而从未重启网络

设置完后重启网络，每次修改完配置文件都要重启”网卡“

/etc/init.d/network restart

[root@weisg001 weisg]# /etc/init.d/network restart
Restarting network (via systemctl):                        [  确定  ]
[root@weisg001 weisg]# 
Restarting network (via systemctl):                        [  确定  ]
[root@weisg001 weisg]# 
此时可以查看目前的DSN服务器是谁
 

[root@weisg001 weisg]# cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 192.168.0.1
nameserver 8.8.8.8
[root@weisg001 weisg]# 
nameserver 192.168.0.1
nameserver 8.8.8.8
[root@weisg001 weisg]# 
再检查一下网络：
[root@weisg001 weisg]# ping www.baidu.com
PING www.a.shifen.com (14.215.177.38) 56(84) bytes of data.
64 bytes from 14.215.177.38 (14.215.177.38): icmp_seq=1 ttl=56 time=10.7 ms
64 bytes from 14.215.177.38 (14.215.177.38): icmp_seq=2 ttl=56 time=9.77 ms
64 bytes from 14.215.177.38 (14.215.177.38): icmp_seq=3 ttl=56 time=12.6 ms
64 bytes from 14.215.177.38 (14.215.177.38): icmp_seq=4 ttl=56 time=10.6 ms
64 bytes from 14.215.177.38 (14.215.177.38): icmp_seq=5 ttl=56 time=10.7 ms
^C
--- www.a.shifen.com ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4011ms
rtt min/avg/max/mdev = 9.774/10.923/12.656/0.944 ms
[root@weisg001 weisg]# 



重启网络：
	service network restart

关闭防火墙：
CentOS6:
	//临时关闭
	service iptables stop
	//禁止开机启动
	chkconfig iptables off
CentOS7:
	//临时关闭
	systemctl stop firewalld
	//禁止开机启动
	systemctl disable firewalld
	Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.
	Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.
	